{"version":3,"sources":["./index.js"],"names":["AFRAME","registerComponent","schema","src","type","default","cutoutEntity","pixelRatio","xrPixelRatio","init","this","data","el","sceneEl","renderer","setPixelRatio","xr","setFramebufferScaleFactor","loadData","camera","components","object3D","cutout","initGL","async","numVertexes","console","log","object","frustumCulled","let","gl","getContext","mexTextureSize","getParameter","MAX_TEXTURE_SIZE","splatIndexArray","maxVertexes","bufferTextureWidth","bufferTextureHeight","Math","floor","centerAndScaleData","Float32Array","covAndColorData","Uint32Array","centerAndScaleTexture","THREE","DataTexture","RGBA","FloatType","needsUpdate","covAndColorTexture","RGBAIntegerFormat","UnsignedIntType","internalFormat","splatIndexes","InstancedBufferAttribute","baseGeometry","setUsage","DynamicDrawUsage","BufferGeometry","positionsArray","positions","BufferAttribute","geometry","setAttribute","setXYZ","InstancedBufferGeometry","copy","instanceCount","material","ShaderMaterial","uniforms","viewport","value","focal","gsProjectionMatrix","getProjectionMatrix","gsModelViewMatrix","getModelViewMatrix","vertexShader","fragmentShader","blending","CustomBlending","blendSrcAlpha","OneFactor","depthTest","depthWrite","transparent","mesh","onBeforeRender","scene","group","projectionMatrix","Vector4","getCurrentViewport","w","abs","elements","z","Mesh","add","worker","onmessage","indexes","e","sortedIndexes","attributes","splatIndex","set","length","sortReady","centerAndScaleTextureProperties","properties","get","covAndColorTextureProperties","__webglTexture","await","Promise","resolve","setTimeout","loadedVertexCount","rowLength","Worker","URL","createObjectURL","Blob","createWorker","toString","postMessage","method","fetch","then","reader","body","getReader","glInitialized","bytesDownloaded","bytesProcesses","_totalDownloadBytes","headers","totalDownloadBytes","parseInt","undefined","chunks","start","Date","now","lastReportedProgress","isPly","endsWith","mbps","percent","done","read","toFixed","push","bytesRemains","extra_data","vertexCount","concatenatedChunksbuffer","Uint8Array","offset","chunk","subarray","buffer","byteLength","pushDataBuffer","error","concatenatedChunks","reduce","acc","processPlyBuffer","u_buffer","f_buffer","matrices","covAndColorData_uint8","covAndColorData_int16","Int16Array","i","quat","Quaternion","center","Vector3","scale","mtx","Matrix4","mtx_t","makeRotationFromQuaternion","transpose","clone","cov_indexes","premultiply","setPosition","max_value","j","destOffset","x","y","max","width","height","xoffset","yoffset","min","bindTexture","TEXTURE_2D","texSubImage2D","FLOAT","RGBA_INTEGER","UNSIGNED_INT","tick","time","timeDelta","view","worldToCutout","camera_mtx","matrixWorld","invert","multiply","viewMatrix","self","mul","dot","vec1","vec2","sortSplats","maxDepth","Infinity","minDepth","depthList","sizeList","Int32Array","validIndexList","validCount","posY","posZ","cutoutSpacePos","depth","cutoutArea","posX","depthInv","counts0","starts0","depthIndex","new_matrices","resized","inputBuffer","ubuf","header","TextDecoder","decode","slice","header_end_index","indexOf","Error","exec","row_offset","offsets","types","prop","TYPE_MAP","double","int","uint","float","short","ushort","uchar","split","filter","k","startsWith","name","arrayType","replace","dataView","DataView","row","attrs","Proxy","target","size","opacity","sizeIndex","exp","scale_0","scale_1","scale_2","timeEnd","sort","b","a","ArrayBuffer","SH_C0","position","scales","rgba","Uint8ClampedArray","rot","qlen","sqrt","rot_0","rot_1","rot_2","rot_3","f_dc_0","f_dc_1","f_dc_2","red","green","blue"],"mappings":"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"}